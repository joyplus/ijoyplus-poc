<!DOCTYPE html>
<html>
<head>
  <title>RecommentVideo</title>
  <link data-turbolinks-track="true" href="assets/bootstrap.min.css?body=1" media="all" rel="stylesheet" />
<link data-turbolinks-track="true" href="assets/daterangepicker-bs3.css?body=1" media="all" rel="stylesheet" />
<link data-turbolinks-track="true" href="assets/font-awesome.min.css?body=1" media="all" rel="stylesheet" />
<link data-turbolinks-track="true" href="assets/index.css?body=1" media="all" rel="stylesheet" />
<link data-turbolinks-track="true" href="assets/application.css?body=1" media="all" rel="stylesheet" />
  <script data-turbolinks-track="true" src="assets/jquery.js?body=1"></script>
<script data-turbolinks-track="true" src="assets/jquery.flot.min.js?body=1"></script>
<script data-turbolinks-track="true" src="assets/bootstrap.min.js?body=1"></script>
<script data-turbolinks-track="true" src="assets/daterangepicker.js?body=1"></script>
<script data-turbolinks-track="true" src="assets/moment.min.js?body=1"></script>
<script data-turbolinks-track="true" src="assets/application.js?body=1"></script>
  <script src="http://cdn.bootcss.com/Chart.js/0.2.0/Chart.min.js"></script>
  <meta content="authenticity_token" name="csrf-param" />
<meta content="uDNzZTiyOCzCcdQgvNjuH4xUUKd3OA5WIAfOmqhNJpo=" name="csrf-token" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>
      <div id="top">
        <!-- .navbar -->
        <nav class="navbar navbar-inverse navbar-static-top">

          <!-- Brand and toggle get grouped for better mobile display -->
          <header class="navbar-header">
            <a href="/" class="navbar-brand">
              <img alt="Logo" src="assets/logo.png" />
            </a>
          </header>
          <div class="topnav">
            <div class="btn-toolbar">
              <div class="btn-group">
                <a href="login.html" data-toggle="tooltip" data-original-title="注销" data-placement="bottom" class="btn btn-metis-1 btn-sm">
                  <span class="glyphicon glyphicon-off"></span>
                </a>
              </div>
            </div>
          </div><!-- /.topnav --> <!-- 
          <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
              <li class="active">
                <a href="/">概述</a>
              </li>

              <li class='dropdown '>
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  个性化推荐 <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li> <a href="/index/report">推荐报告</a> </li>
                  <li> <a href="/recommendations">所有推荐</a> </li>
                  <li> <a href="/recommendations/new">新建推荐</a> </li>
                </ul>
              </li>

              <li class='dropdown '>
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  用户分析 <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li> <a href="/index/geo">地域分析</a> </li>
                  <li> <a href="/index/attr">用户属性</a> </li>
                </ul>
              </li>

              <li class="">
                <a href="/index/setting">设置</a>
              </li>

            </ul>
          </div> -->
        </nav><!-- /.navbar -->

      </div><!-- /#top -->
      <div id="left">

        <!-- #menu -->
        <ul id="menu" class="">

          <li class="active">
            <a href="index.html">
              <i class="fa fa-dashboard"></i> 概述
            </a>
          </li>

          <li class="">
            <a class="accordion-toggle" data-toggle="collapse" href="#collapse1">
              <i class="fa fa-bookmark"></i> 个性化推荐
              <span class="fa fa-angle-down"></span>
            </a>
            <ul id="collapse1" class="panel-collapse in">
              <li><a href="report.html"><i class="fa fa-angle-right"></i> 推荐报告</a></li>
              <li><a href="recommendations.html"><i class="fa fa-angle-right"></i> 所有推荐</a></li>
              <li><a href="new-rcmd.html"><i class="fa fa-angle-right"></i> 新建推荐</a></li>
            </ul>
          </li>

          <li >
            <a class="accordion-toggle" data-toggle="collapse" href="#collapse2">
              <i class="fa fa-group"></i> 用户分析
              <span class="fa fa-angle-down"></span>
            </a>
            <ul id="collapse2" class="panel-collapse in">
              <li>
                <a href="geo.html"><i class="fa fa-angle-right"></i> 地域分析</a>
              </li>
              <li>
                <a href="attr.html"><i class="fa fa-angle-right"></i> 用户属性</a>
              </li>
            </ul>
          </li>

          <li class="">
            <a href="setting.html">
              <i class="fa fa-cog"></i> 设置</a>
          </li>
          
        </ul><!-- /#menu -->
      </div><!-- /#left -->
      <script type="text/javascript">
//菜单高亮显示
$(function(){
    var current_url = location.href.toLocaleLowerCase();

    var current_link = "";
    var num = 0;
    var first;
    $("#menu ul a").each(function(){

       current_link = $(this).attr("href").toLocaleLowerCase();

       if (current_url.indexOf(current_link) != -1 ) {

        if(num === 0){
          $(this).addClass("active"); 
          num ++; first = $(this);
        } else if ($(this).attr("href").length > first.attr("href").length) {
            $(this).addClass("active"); 
            first.removeClass("active");
        }

        
    }

       });

});
//菜单箭头
$("#menu .accordion-toggle").click(function(){
    if( $(this).next().hasClass("in") ) {
        $(this).find("span.fa").addClass("fa-angle-left").removeClass("fa-angle-down");
    }
    if( $(this).next().hasClass("collapse") ) {
        $(this).find("span.fa").addClass("fa-angle-down").removeClass("fa-angle-left");
    }
});
      </script>

<div id="content">

<h2>概述</h2>
<table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th></th>
            <th>推荐次数</th>
            <th>观看次数</th>
            <th>独立终端数</th>
            <th>平均访问时长</th>
            <th>转化率</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>今日</th>
            <td>32134</td>
            <td>300</td>
            <td>288</td>
            <td>00:33:10</td>
            <td>9.87%</td>
          </tr>
          <tr>
            <th>昨日</th>
            <td>43245</td>
            <td>544</td>
            <td>521</td>
            <td>00:30:19</td>
            <td>9.99%</td>
          </tr>
          <tr>
            <th>预计今日</th>
            <td>46342 <img alt="Up" src="assets/up.png" /></td>
            <td>511 <img alt="Down" src="assets/down.png" /></td>
            <td>500 <img alt="Down" src="assets/down.png" /></td>
            <td>00:32:12 <img alt="Up" src="assets/up.png" /></td>
            <td>9.90% <img alt="Down" src="assets/down.png" /></td>
          </tr>
        </tbody>
      </table>

<h2>时段分析</h2>

<div class="demo-container">

      <p id="choices"></p>
      <div id="placeholder" class="canvas_chart"></div>


  <script type="text/javascript">

  $(function() {

    var datasets = {
      "推荐次数": {
        label: "推荐次数",
        data: [[0, 43994], [1, 29060], [2, 45764], [3, 40194], [4, 42405], [5, 40275], [6, 37867], [7, 37382], [8, 37946], [9, 33185], [10, 32861], [11, 32421], [12, 34172], [13, 34432], [14, 38303], [15, 40813], [16, 18051], [17, 24638], [18, 12692],[19, ],[20, ],[21, ],[22, ],[23, ]]
      },        
      "观看次数": {
        label: "观看次数",
        data: [[0, 4839], [1, 4790], [2, 7648], [3, 1949], [4, 4247], [5, 2375], [6, 7867], [7, 3572], [8, 3946], [9, 3385], [10, 3211], [11, 3221], [12, 3421], [13, 3932], [14, 3873], [15, 4403], [16, 8051], [17, 5038], [18, 5692],[19, ],[20, ],[21, ],[22, ],[23, ]]
      },
      "独立终端数": {
        label: "独立终端数",
        data: [[0, 483], [1, 490], [2, 648], [3, 949], [4, 247], [5, 275], [6, 767], [7, 372], [8, 946], [9, 385], [10, 321], [11, 321], [12, 321], [13, 392], [14, 373], [15, 443], [16, 851], [17, 538], [18, 692],[19, ],[20, ],[21, ],[22, ],[23, ]]
      },
      "转化率": {
        label: "转化率",
        data: [[0, 0.12], [1, 0.09], [2, 0.11], [3, 0.2], [4, 0.11], [5, 0.07], [6, 0.07], [7, 0.09], [8, 0.11], [9, 0.13], [10, 0.13], [11, 0.2], [12, 0.09], [13, 0.22], [14, 0.13], [15, 0.14], [16, 0.22], [17, 0.13], [18, 0.32],[19, ],[20, ],[21, ],[22, ],[23, ]]
      }
    };

    var i = 0;
    $.each(datasets, function(key, val) {
      val.color = i;
      ++i;
    });

    // insert checkboxes 
    var choiceContainer = $("#choices");
    $.each(datasets, function(key, val) {
      choiceContainer.append("<input type='checkbox' name='" + key +
        "' checked='checked' id='id" + key + "'></input> " +
        "<label for='id" + key + "'>"
        + val.label + "</label>");
    });

    choiceContainer.find("input").click(plotAccordingToChoices);

    function plotAccordingToChoices() {

      var data = [];

      choiceContainer.find("input:checked").each(function () {
        var key = $(this).attr("name");
        if (key && datasets[key]) {
          data.push(datasets[key]);
        }
      });

      if (data.length > 0) {
        $.plot("#placeholder", data, {
          yaxis: {
            min: 0
          },
          xaxis: {
            tickDecimals: 0
          }
        });
      }
    }

    plotAccordingToChoices();

//地理信息
    var geo_data = [
        {
          value : 30,
          color : "#F38630"
        },
        {
          value : 25,
          color : "#E0E4CC"
        },
        {
          value : 25,
          color : "#69D2E7"
        },
        {
          value : 10,
          color : "#69D200"
        },
        {
          value : 10,
          color : "#6900E7"
        } 
      ];

  var myPie = new Chart(document.getElementById("geo_chart").getContext("2d")).Pie(geo_data);


  });
  </script>
<div style="text-align:center; padding:15px 0;">
<div class="btn-group">
  <button type="button" class="btn btn-default active">今天</button>
  <button type="button" class="btn btn-default">昨天</button>
  <button type="button" class="btn btn-default">最近7周</button>
  <button type="button" class="btn btn-default">最近30天</button>
</div>
</div>

</div>     

<h2>人群分析</h2>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">男女比例</h3>
      </div>
      <div class="panel-body">

<div class="row">
  <div class="col-md-6 text-right">
    <div class="gender_persentage_text">79.71%</div>
    <div class="man_off"><div class="man_on" style="width:79%"></div></div>
  </div>
  <div class="col-md-6 text-left">
    <div class="gender_persentage_text">20.29%</div>
    <div class="woman_off"><div class="woman_on" style="width:21%"></div></div>
  </div>
</div>

      </div>
    </div>
<div class="row">
  <div class="col-md-6">

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">地域分布</h3>
      </div>
      <div class="panel-body">
        <canvas class="chart_with_des" id="geo_chart" height="180" width="180" style="margin-right:20px;"></canvas>
        <div class="bar_chart_des">
          <div style="color:#F38630">
            <span class="glyphicon glyphicon-stop"></span> 江苏 30%
          </div>
          <div style="color:#E0E4CC">
            <span class="glyphicon glyphicon-stop"></span> 浙江 25%
          </div>
          <div style="color:#69D2E7">
            <span class="glyphicon glyphicon-stop"></span> 广东 25%
          </div>
          <div style="color:#69D200">
            <span class="glyphicon glyphicon-stop"></span> 上海 10%
          </div>
          <div style="color:#6900E7">
            <span class="glyphicon glyphicon-stop"></span> 北京 10%
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="col-md-6">
        <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">年龄分布</h3>
      </div>
      <div class="panel-body">
 <table class="chart_table">
  <tr><td class="text-right" width="80">10-19岁：</td><td><div class="chart_bg" style="width:18%;"></div>(18%)</td></tr>
  <tr><td class="text-right">20-29岁：</td><td><div class="chart_bg" style="width:20.5%;"></div>(20.5%)</td></tr>
  <tr><td class="text-right">30-39岁：</td><td><div class="chart_bg" style="width:35%;"></div>(35%)</td></tr>
  <tr><td class="text-right">40-49岁：</td><td><div class="chart_bg" style="width:10.5%;"></div>(10.5%)</td></tr>
  <tr><td class="text-right">50-59岁：</td><td><div class="chart_bg" style="width:5.5%;"></div>(5.5%)</td></tr>
</table>
      </div>
    </div>
  </div>
</div>





</div>
</body>
</html>
